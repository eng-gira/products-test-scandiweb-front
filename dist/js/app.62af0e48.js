(function(){"use strict";var e={6923:function(e,t,r){var o=r(9242),n=r(3396);function a(e,t){const r=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(r)}var s=r(89);const l={},u=(0,s.Z)(l,[["render",a]]);var i=u,c=r(2483),d=(r(7658),r(4870)),p=r(5939);const v=p.Z.create({baseURL:"http://localhost/products-test-scandiweb-back/api/products/",withCredentials:!1});var f={getProducts(){return v.get("index")},saveProduct(e){return v.post("store",e)},massDelete(e){return v.post("massDelete",e)}},b=r(7139);const m={key:0,class:"border border-black p-4 flex flex-col min-w-[250px] max-w-[250px] min-h-[200px] space-y-3"},h={class:"self-start"},w=["value"],g={class:"self-center"},_={class:"text-sm"},y={class:"text-sm"},x={class:"text-sm"},k={class:"text-sm"};var P={__name:"ListedProduct",props:{product:{type:Object,default:null}},setup(e){const t=e;function r(e){return"book"==e.toLowerCase()?"Weight: "+t.product.weight+"KG":"dvd"==e.toLowerCase()?"Size: "+t.product.size+" MB":"furniture"==e.toLowerCase()?t.product.height+"X"+t.product.width+"X"+t.product.length:void 0}return(t,o)=>null!==e.product?((0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("div",h,[(0,n._)("input",{class:"delete-checkbox",type:"checkbox",value:e.product.id},null,8,w)]),(0,n._)("div",g,[(0,n._)("h1",_,(0,b.zw)(e.product.sku),1),(0,n._)("h1",y,(0,b.zw)(e.product.name),1),(0,n._)("h1",x,(0,b.zw)(e.product.price)+" $",1),(0,n._)("h1",k,(0,b.zw)(r(e.product.type)),1)])])):(0,n.kq)("",!0)}};const S=P;var D=S;const U={class:"flex flex-col"},C={class:"flex justify-between mb-2 items-center"},j=(0,n._)("h1",{class:"text-2xl"},"Product List",-1),O={class:"space-x-3"},L=(0,n._)("hr",null,null,-1),M={key:0,class:"mt-3 flex gap-3 flex-wrap p-2 items-center justify-center"},V={key:1,class:"my-8 flex items-center justify-center"},z=(0,n._)("h1",{class:"italic"},"No products yet. Start adding products to show up here!",-1),H=[z];var A={__name:"ProductsView",setup(e){let t=(0,d.iH)([]);function r(){let e=document.getElementsByClassName("delete-checkbox"),r=[],o=t.value;for(let n=0;n<e.length;n++)e[n].checked&&(r.push(e[n].value),t.value=t.value.filter((function(t){if(t.id!=e[n].value)return t})));if(r.length<1)return!1;f.massDelete(r).then((e=>{"failed"==e.data.message&&(t.value=o)})).catch((e=>{console.log("err is",e),t.value=o}))}return(0,n.bv)((()=>{f.getProducts().then((e=>{"failed"!=e.data.message&&(t.value=e.data.data)})).catch((e=>{console.log(e)}))})),(e,o)=>{const a=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",U,[(0,n._)("div",C,[j,(0,n._)("div",O,[(0,n.Wm)(a,{to:{name:"AddProductView"},class:"p-2 border border-black text-sm hover:text-white hover:bg-black"},{default:(0,n.w5)((()=>[(0,n.Uk)("ADD")])),_:1}),(0,n._)("button",{class:"p-2 border border-black text-sm hover:text-white hover:bg-red-500",id:"delete-product-btn",onClick:r},"MASS DELETE")])]),L,(0,d.SU)(t).length>0?((0,n.wg)(),(0,n.iD)("div",M,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,d.SU)(t),(e=>((0,n.wg)(),(0,n.j4)((0,d.SU)(D),{key:e.id,product:e},null,8,["product"])))),128))])):((0,n.wg)(),(0,n.iD)("div",V,H))])}}};const T=A;var q=T;const W=["id"],B=["for"],E=["id","onInput"],F={class:"font-bold text-sm"};var K={__name:"ProductTypeForm",props:{type:{type:String,required:!0}},setup(e){const t={book:{unit:"KG",inputs:["Weight"],description:"Please, provide weight",idMapper:"Book"},dvd:{idMapper:"DVD",unit:"MB",inputs:["Size"],description:"Please, provide size"},furniture:{unit:"CM",inputs:["Height","Width","Length"],description:"Please, provide dimensions",idMapper:"Furniture"}};return(r,o)=>((0,n.wg)(),(0,n.iD)("div",{class:"border border-black p-6 flex flex-col items-start",id:t[e.type].idMapper},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t[e.type].inputs,(o=>((0,n.wg)(),(0,n.iD)("div",{key:o,class:"mb-6"},[(0,n._)("label",{for:o.toLowerCase()},(0,b.zw)(o+" ("+t[e.type].unit+")"),9,B),(0,n._)("input",{type:"number",id:o.toLowerCase(),onInput:e=>r.$emit("attribute-inputted",o,e.target.value),class:"border border-black ml-6 p-1"},null,40,E)])))),128)),(0,n._)("h1",F,(0,b.zw)(t[e.type].description),1)],8,W))}};const I=K;var N=I;const Z={class:"flex flex-col"},$={class:"flex justify-between mb-2 items-center"},G=(0,n._)("h1",{class:"text-2xl"},"Add Product",-1),X={class:"flex space-x-2"},Y=(0,n._)("hr",null,null,-1),J={key:0,class:"mb-6 text-red-500"},R={class:"mb-6"},Q=(0,n._)("label",{for:"sku",class:""},"SKU",-1),ee={class:"mb-6"},te=(0,n._)("label",{for:"name",class:""},"Name",-1),re={class:"mb-6"},oe=(0,n._)("label",{for:"price",class:""},"Price ($)",-1),ne={class:"mb-6"},ae=(0,n._)("label",{for:"productType",class:""},"Type Switcher",-1),se=(0,n._)("option",{value:"book"},"Book",-1),le=(0,n._)("option",{value:"furniture"},"Furniture",-1),ue=(0,n._)("option",{value:"dvd"},"DVD",-1),ie=[se,le,ue];var ce={__name:"AddProductView",setup(e){let t=(0,d.iH)(""),r=(0,d.iH)(""),a=(0,d.iH)(""),s=(0,d.iH)(""),l=(0,d.iH)("book"),u=(0,d.iH)({}),i=(0,d.iH)({});function c(){let e=v();if(!0!==e)return!1;t.value="",f.saveProduct(JSON.stringify({sku:r.value,name:a.value,price:s.value,type:l.value,attrs:u.value})).then((e=>{"failed"!=e.data.message?window.location="/":t.value="Failed to save product. API response: "+e.data.data})).catch((e=>{console.log(e),t.value="Failed to save product. API response: "+e.response.data.data}))}function p(e,t){e.length>0&&t.length>0&&(u.value[e.toLowerCase()]=t)}function v(){let e=document.getElementsByTagName("input");for(let r=0;r<e.length;r++)if(!1===!!e[r].value)return t.value="Please, submit required data",!1;return 1!=i.value[r.value]||(t.value="SKU already exists",!1)}function m(){u.value={}}return(0,n.bv)((()=>{f.getProducts().then((e=>{if("failed"!=e.data.message)for(let t=0;t<e.data.data.length;t++)i.value[e.data.data[t].sku]=!0}))})),(e,u)=>{const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",Z,[(0,n._)("div",$,[G,(0,n._)("div",X,[(0,n._)("button",{class:"p-2 border border-black text-sm hover:bg-black hover:text-white",onClick:c},"Save"),(0,n.Wm)(i,{to:{name:"ProductsView"},class:"p-2 border border-black text-sm hover:bg-gray-400 hover:text-white"},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1})])]),Y,(0,n._)("form",{id:"product_form",class:"self-start my-6 flex flex-col items-start",onSubmit:u[4]||(u[4]=(0,o.iM)((()=>{}),["prevent"]))},[(0,d.SU)(t).length>0?((0,n.wg)(),(0,n.iD)("h1",J,(0,b.zw)((0,d.SU)(t)),1)):(0,n.kq)("",!0),(0,n._)("div",R,[Q,(0,n.wy)((0,n._)("input",{id:"sku",type:"text",class:"border border-black ml-6 p-1","onUpdate:modelValue":u[0]||(u[0]=e=>(0,d.dq)(r)?r.value=e:r=e)},null,512),[[o.nr,(0,d.SU)(r)]])]),(0,n._)("div",ee,[te,(0,n.wy)((0,n._)("input",{id:"name",type:"text",class:"border border-black ml-6 p-1","onUpdate:modelValue":u[1]||(u[1]=e=>(0,d.dq)(a)?a.value=e:a=e)},null,512),[[o.nr,(0,d.SU)(a)]])]),(0,n._)("div",re,[oe,(0,n.wy)((0,n._)("input",{id:"price",type:"number",step:"0.01",class:"border border-black ml-6 p-1","onUpdate:modelValue":u[2]||(u[2]=e=>(0,d.dq)(s)?s.value=e:s=e)},null,512),[[o.nr,(0,d.SU)(s)]])]),(0,n._)("div",ne,[ae,(0,n.wy)((0,n._)("select",{id:"productType",class:"border border-black ml-6 p-1","onUpdate:modelValue":u[3]||(u[3]=e=>(0,d.dq)(l)?l.value=e:l=e),onChange:m},ie,544),[[o.bM,(0,d.SU)(l)]])]),(0,n.Wm)((0,d.SU)(N),{type:(0,d.SU)(l),onAttributeInputted:p},null,8,["type"])],32)])}}};const de=ce;var pe=de;const ve={class:"p-6"},fe=(0,n._)("hr",{class:"mt-3"},null,-1),be=(0,n._)("div",{class:"flex justify-center items-center mt-3"},[(0,n._)("h1",{class:""},"Scandiweb Test assignment")],-1);function me(e,t){const r=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",ve,[(0,n.Wm)(r),fe,be])}const he={},we=(0,s.Z)(he,[["render",me]]);var ge=we;const _e=[{path:"/",name:"AppLayout",component:ge,children:[{path:"",name:"ProductsView",component:q},{path:"add-product",name:"AddProductView",component:pe}]}],ye=(0,c.p7)({history:(0,c.PO)("/"),routes:_e});var xe=ye,ke=r(65),Pe=(0,ke.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,o.ri)(i).use(Pe).use(xe).mount("#app")}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,a){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],a=e[c][2];for(var l=!0,u=0;u<o.length;u++)(!1&a||s>=a)&&Object.keys(r.O).every((function(e){return r.O[e](o[u])}))?o.splice(u--,1):(l=!1,a<s&&(s=a));if(l){e.splice(c--,1);var i=n();void 0!==i&&(t=i)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,n,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,s=o[0],l=o[1],u=o[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(u)var c=u(r)}for(t&&t(o);i<s.length;i++)a=s[i],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},o=self["webpackChunkproducts_test_scandiweb_front"]=self["webpackChunkproducts_test_scandiweb_front"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(6923)}));o=r.O(o)})();
//# sourceMappingURL=app.62af0e48.js.map